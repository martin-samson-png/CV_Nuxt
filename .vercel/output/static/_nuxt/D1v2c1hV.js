import{h,i as r,c as _,o as p,a as t,j as d,g as y,v as m,k as E,l as U,t as $,m as M,_ as g,b as w,f as F}from"#entry";const z={class:"form-container"},C={class:"input-group"},N={class:"input-group"},B={class:"input-group"},G={class:"input-group"},I={class:"input-group"},O={key:0,class:"success"},T={key:1,class:"error"},j=["disabled"],D=h({__name:"Form",setup(x){const n=r(""),o=r(""),s=r(""),v=r(""),u=r(""),b=r(""),i=r(""),l=r("idle"),V=/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9-]+(?:\.[a-z0-9-]+)+$/i,k=/^[+()\d\s.-]{6,20}$/,c=(f="")=>f.trim().replace(/\s+/g," "),S=async()=>{if(l.value="sending",i.value="",n.value=c(n.value),o.value=c(o.value),s.value=c(s.value),u.value=c(u.value),!n.value||!o.value||!u.value||!v.value){i.value="Tous les champs sont requient",l.value="error";return}if(!V.test(o.value)){i.value="Format d'email invalide",l.value="error";return}if(s.value&&!k.test(s.value)){i.value="Format de numéro de téléphone invalide",l.value="error";return}try{await $fetch("/api/form",{method:"POST",body:{firstname:n.value,email:o.value,phone:s.value,found:v.value,message:u.value,website:b.value}}),l.value="ok",n.value=o.value=s.value=u.value=v.value=""}catch(f){l.value="error",i.value=f.data.message}};return(f,e)=>(p(),_("div",z,[e[12]||(e[12]=t("div",{class:"title"},[t("p",null,"Entrer vos informations")],-1)),t("form",{onSubmit:M(S,["prevent"])},[t("div",C,[e[6]||(e[6]=t("label",{for:"firstName"},"Prénom",-1)),d(t("input",{type:"text",name:"username",id:"username",placeholder:"Entrer votre prénom","onUpdate:modelValue":e[0]||(e[0]=a=>n.value=a)},null,512),[[m,n.value]])]),t("div",N,[e[7]||(e[7]=t("label",{for:"email"},"Email",-1)),d(t("input",{type:"text",name:"email",id:"email",placeholder:"Entrer votre adresse email","onUpdate:modelValue":e[1]||(e[1]=a=>o.value=a)},null,512),[[m,o.value]])]),t("div",B,[e[8]||(e[8]=t("label",{for:"phone"},"Téléphone",-1)),d(t("input",{type:"text",name:"phone",id:"phone",placeholder:"Entrer votre numéro de téléphone","onUpdate:modelValue":e[2]||(e[2]=a=>s.value=a)},null,512),[[m,s.value]])]),t("div",G,[e[10]||(e[10]=t("label",{for:"found-select"},"Comment m’avez-vous trouvé ?",-1)),d(t("select",{id:"found-select",name:"found-select","onUpdate:modelValue":e[3]||(e[3]=a=>v.value=a)},[...e[9]||(e[9]=[U('<option value="" disabled data-v-bad4df3e>— Sélectionnez une option —</option><option value="ref" data-v-bad4df3e>Recommandation</option><option value="GitHub" data-v-bad4df3e>GitHub</option><option value="Google" data-v-bad4df3e>Google</option><option value="LinkedIn" data-v-bad4df3e>LinkedIn</option><option value="Other" data-v-bad4df3e>Autre</option>',6)])],512),[[E,v.value]])]),t("div",I,[e[11]||(e[11]=t("label",{for:"message"},"Message",-1)),d(t("textarea",{name:"",id:"",placeholder:"Votre message ici...",rows:"3","onUpdate:modelValue":e[4]||(e[4]=a=>u.value=a)},null,512),[[m,u.value]])]),d(t("input",{"onUpdate:modelValue":e[5]||(e[5]=a=>b.value=a),class:"hidden",tabindex:"-1",autocomplete:"off"},null,512),[[m,b.value]]),l.value==="ok"?(p(),_("p",O,"Merci ! Message envoyé")):y("",!0),l.value==="error"?(p(),_("p",T,$(i.value),1)):y("",!0),t("button",{disabled:l.value==="sending",type:"submit",class:"btn-primary sign"}," Envoyer ",8,j)],32)]))}}),P=Object.assign(g(D,[["__scopeId","data-v-bad4df3e"]]),{__name:"UiForm"}),H={};function L(x,n){const o=P;return p(),_("section",null,[w(o)])}const q=Object.assign(g(H,[["render",L],["__scopeId","data-v-9f107616"]]),{__name:"SectionsContactSection"}),A={};function R(x,n){const o=q;return p(),F(o)}const K=g(A,[["render",R]]);export{K as default};
